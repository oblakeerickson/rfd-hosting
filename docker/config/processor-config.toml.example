# RFD Processor Configuration
# Copy this file to processor-config.toml and fill in your values

log_format = "json"

# Controls if the processor should run
processor_enabled = true

# How many jobs should be processed at once
processor_batch_size = 10

# Maximum number of RFD jobs to process concurrently
processor_capacity = 4

# How often to select a batch of jobs to process (seconds)
processor_interval = 30

# Set to "write" when ready to persist changes, use "read" for testing
processor_update_mode = "write"

# Controls if the scanner should run
scanner_enabled = true

# Scanner interval: how often to check GitHub for changes (seconds)
# Default: 900 (15 minutes)
scanner_interval = 900

# Database connection - should match rfd-api config
# For Docker postgres profile:
database_url = "postgres://rfd:YOUR_DB_PASSWORD@postgres:5432/rfd"

# Actions to enable (basic setup without GCP/Google Drive/Meilisearch)
actions = [
  "CreatePullRequest",
  "UpdatePullRequest",
  "UpdateDiscussionUrl",
  "EnsureRfdWithPullRequestIsInValidState",
  "EnsureRfdOnDefaultIsInValidState",
]

# GitHub App Authentication - same credentials as rfd-api
[auth.github]
app_id = 123456
installation_id = 789012
private_key = """
-----BEGIN RSA PRIVATE KEY-----
... your GitHub App private key ...
-----END RSA PRIVATE KEY-----
"""

# GitHub source repository
[source]
owner = "your-org-or-username"
repo = "rfd"
path = "rfd"
default_branch = "main"
